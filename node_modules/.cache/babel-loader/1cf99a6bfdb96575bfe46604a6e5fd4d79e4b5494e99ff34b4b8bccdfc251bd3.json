{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useParams}from'react-router';import tmdbApi from'../../api/tmdbApi';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const VideoList=props=>{const{category}=useParams();const[videos,setVideos]=useState([]);useEffect(()=>{const getVideos=async()=>{const res=await tmdbApi.getVideos(category,props.id);setVideos(res.results.slice(0,5));};getVideos();},[category,props.id]);return/*#__PURE__*/_jsx(_Fragment,{children:videos.map((item,i)=>/*#__PURE__*/_jsx(Video,{item:item},i))});};const Video=props=>{const item=props.item;const iframeRef=useRef(null);useEffect(()=>{const height=iframeRef.current.offsetWidth*9/16+'px';iframeRef.current.setAttribute('height',height);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"video\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"video__title\",children:/*#__PURE__*/_jsx(\"h2\",{children:item.name})}),/*#__PURE__*/_jsx(\"iframe\",{src:`https://www.youtube.com/embed/${item.key}`,ref:iframeRef,width:\"100%\",title:\"video\"})]});};export default VideoList;","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","tmdbApi","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","VideoList","props","category","videos","setVideos","getVideos","res","id","results","slice","children","map","item","i","Video","iframeRef","height","current","offsetWidth","setAttribute","className","name","src","key","ref","width","title"],"sources":["/workspaces/daryl-movie/src/pages/detail/VideoList.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\nimport { useParams } from 'react-router';\n\nimport tmdbApi from '../../api/tmdbApi';\n\nconst VideoList = props => {\n\n    const {category} = useParams();\n\n    const [videos, setVideos] = useState([]);\n\n    useEffect(() => {\n        const getVideos = async () => {\n            const res = await tmdbApi.getVideos(category, props.id);\n            setVideos(res.results.slice(0, 5));\n        }\n        getVideos();\n    }, [category, props.id]);\n\n    return (\n        <>\n            {\n                videos.map((item, i) => (\n                    <Video key={i} item={item}/>\n                ))\n            }\n        </>\n    );\n}\n\nconst Video = props => {\n\n    const item = props.item;\n\n    const iframeRef = useRef(null);\n\n    useEffect(() => {\n        const height = iframeRef.current.offsetWidth * 9 / 16 + 'px';\n        iframeRef.current.setAttribute('height', height);\n    }, []);\n\n    return (\n        <div className=\"video\">\n            <div className=\"video__title\">\n                <h2>{item.name}</h2>\n            </div>\n            <iframe\n                src={`https://www.youtube.com/embed/${item.key}`}\n                ref={iframeRef}\n                width=\"100%\"\n                title=\"video\"\n            ></iframe>\n        </div>\n    )\n}\n\nexport default VideoList;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAE1D,OAASC,SAAS,KAAQ,cAAc,CAExC,MAAO,CAAAC,OAAO,KAAM,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,KAAM,CAAAC,SAAS,CAAGC,KAAK,EAAI,CAEvB,KAAM,CAACC,QAAQ,CAAC,CAAGV,SAAS,CAAC,CAAC,CAE9B,KAAM,CAACW,MAAM,CAAEC,SAAS,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAExCC,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAe,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC1B,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAb,OAAO,CAACY,SAAS,CAACH,QAAQ,CAAED,KAAK,CAACM,EAAE,CAAC,CACvDH,SAAS,CAACE,GAAG,CAACE,OAAO,CAACC,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC,CACtC,CAAC,CACDJ,SAAS,CAAC,CAAC,CACf,CAAC,CAAE,CAACH,QAAQ,CAAED,KAAK,CAACM,EAAE,CAAC,CAAC,CAExB,mBACIZ,IAAA,CAAAE,SAAA,EAAAa,QAAA,CAEQP,MAAM,CAACQ,GAAG,CAAC,CAACC,IAAI,CAAEC,CAAC,gBACflB,IAAA,CAACmB,KAAK,EAASF,IAAI,CAAEA,IAAK,EAAdC,CAAe,CAC9B,CAAC,CAER,CAAC,CAEX,CAAC,CAED,KAAM,CAAAC,KAAK,CAAGb,KAAK,EAAI,CAEnB,KAAM,CAAAW,IAAI,CAAGX,KAAK,CAACW,IAAI,CAEvB,KAAM,CAAAG,SAAS,CAAGxB,MAAM,CAAC,IAAI,CAAC,CAE9BD,SAAS,CAAC,IAAM,CACZ,KAAM,CAAA0B,MAAM,CAAGD,SAAS,CAACE,OAAO,CAACC,WAAW,CAAG,CAAC,CAAG,EAAE,CAAG,IAAI,CAC5DH,SAAS,CAACE,OAAO,CAACE,YAAY,CAAC,QAAQ,CAAEH,MAAM,CAAC,CACpD,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIjB,KAAA,QAAKqB,SAAS,CAAC,OAAO,CAAAV,QAAA,eAClBf,IAAA,QAAKyB,SAAS,CAAC,cAAc,CAAAV,QAAA,cACzBf,IAAA,OAAAe,QAAA,CAAKE,IAAI,CAACS,IAAI,CAAK,CAAC,CACnB,CAAC,cACN1B,IAAA,WACI2B,GAAG,CAAE,iCAAiCV,IAAI,CAACW,GAAG,EAAG,CACjDC,GAAG,CAAET,SAAU,CACfU,KAAK,CAAC,MAAM,CACZC,KAAK,CAAC,OAAO,CACR,CAAC,EACT,CAAC,CAEd,CAAC,CAED,cAAe,CAAA1B,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}